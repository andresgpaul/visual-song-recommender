<!DOCTYPE html>
<html>
  <head>
    <title>Visual Song Recommender</title>
    <!-- <link rel="stylesheet" type="text/css" href="../static/index.css"> -->
    <!-- <script type="module" src="../static/spotify.js"></script> -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="../static/index.js"></script>
    <script src="../static/bundle.js"></script>
  </head>
  <body>
    <h1
      style="
        justify-content: center;
        display: grid;
        width: 80%;
        margin-left: 10vw;
      "
    >
      Automatic Spotify Song Selection through Facial Emotion Recognition
    </h1>
    <p style="width: 80%; margin-left: 10vw">
      The relationship between sound and images have been explored since the
      advent of movies, and even earlier. The project work aims to create a
      software able to automatically select a song given an image through facial
      emotion recognition. A Neural Network is trained in order to perform
      facial emotion recognition on images. Given a previously unseen image and
      given the emotion label assigned by the network, the software will select
      a proper song through the Spotify API by mean of a mapping between
      emotions and song descriptions provided by Spotify streaming service.
    </p>
    <div class="box" style="display: grid; justify-content: center">
      <p>
        Get an access token
        <a
          href="https://developer.spotify.com/console/get-artist/"
          target="_blank"
          rel="noopener noreferrer"
          >here</a
        >
        by clicking on Get Token (select any scope you want).
      </p>
      <input
        type="text"
        id="token"
        name="token"
        placeholder="Enter spotify's access token here"
        style="width: 500px"
      />
      <br />
      <input
        id="imageinput"
        type="file"
        name="image"
        onchange="readUrl(this)"
      />
      <!-- <button name="send" id="sendbutton">Send</button> -->
      <br />
      <img id="imagebox" src="" width="500" />
      <label
        name="send"
        id="sendbutton"
        for="file"
        style="width: 100px; cursor: pointer; border: outset; margin-top: 10px"
      >
        Upload Image
      </label>
      <div id="fresh">
        <p id="s-msg"></p>
        <div style="display: flex">
          <p style="padding-right: 20px">Predicted emotion:</p>
          <p id="em-pred"></p>
        </div>
      </div>
      <div id="numSel">
        <p>
          Select how many songs you want to get:
          <input
            type="number"
            id="num"
            name="num"
            min="1"
            max="100"
            value="3"
            style="width: 45px; text-align: right"
          />
        </p>
      </div>
      <div>
        <p>Check the types of genres you prefer (up to 5):</p>
        <input
          class="gnre"
          type="checkbox"
          id="acoustic"
          name="acoustic"
        />acoustic
        <input
          class="gnre"
          type="checkbox"
          id="alternative"
          name="alternative"
        />alternative
        <input
          class="gnre"
          type="checkbox"
          id="black-metal"
          name="black-metal"
        />black-metal
        <input class="gnre" type="checkbox" id="chill" name="chill" />chill
        <input
          class="gnre"
          type="checkbox"
          id="classical"
          name="classical"
        />classical
        <input class="gnre" type="checkbox" id="dance" name="dance" />dance
        <br />
        <input
          class="gnre"
          type="checkbox"
          id="death-metal"
          name="death-metal"
        />death-metal
        <input
          class="gnre"
          type="checkbox"
          id="deep-house"
          name="deep-house"
        />deep-house
        <input
          class="gnre"
          type="checkbox"
          id="dubstep"
          name="dubstep"
        />dubstep <input class="gnre" type="checkbox" id="edm" name="edm" />edm
        <input
          class="gnre"
          type="checkbox"
          id="electronic"
          name="electronic"
        />electronic
        <input class="gnre" type="checkbox" id="emo" name="emo" />emo
        <br />
        <input class="gnre" type="checkbox" id="garage" name="garage" />garage
        <input class="gnre" type="checkbox" id="goth" name="goth" />goth
        <input class="gnre" type="checkbox" id="happy" name="happy" />happy
        <input
          class="gnre"
          type="checkbox"
          id="hard-core"
          name="hard-core"
        />hard-core
        <input
          class="gnre"
          type="checkbox"
          id="heavy-metal"
          name="heavy-metal"
        />heavy-metal
        <input
          class="gnre"
          type="checkbox"
          id="hip-hop"
          name="hip-hop"
        />hip-hop
        <br />
        <input class="gnre" type="checkbox" id="indie" name="indie" />indie
        <input class="gnre" type="checkbox" id="metal" name="metal" />metal
        <input class="gnre" type="checkbox" id="party" name="party" />party
        <input class="gnre" type="checkbox" id="piano" name="piano" />piano
        <input class="gnre" type="checkbox" id="pop" name="pop" />pop
        <input
          class="gnre"
          type="checkbox"
          id="psych-rock"
          name="psych-rock"
        />psych-rock
        <br />
        <input class="gnre" type="checkbox" id="punk" name="punk" />punk
        <input
          class="gnre"
          type="checkbox"
          id="punk-rock"
          name="punk-rock"
        />punk-rock
        <input
          class="gnre"
          type="checkbox"
          id="rainy-day"
          name="rainy-day"
        />rainy-day
        <input class="gnre" type="checkbox" id="rock" name="rock" />rock
        <input
          class="gnre"
          type="checkbox"
          id="rock-n-roll"
          name="rock-n-roll"
        />rock-n-roll
        <input class="gnre" type="checkbox" id="r-n-b" name="r-n-b" />r-n-b
        <br />
        <input class="gnre" type="checkbox" id="sad" name="sad" />sad
        <input class="gnre" type="checkbox" id="soul" name="soul" />soul
      </div>
      <p id="send-tst" style="width: 200px; cursor: pointer; border: outset">
        Get recommended songs
      </p>
      <!-- <p id="emotion" name="emotion">{{ emotion }}</p> -->
      <p>Here are your recommended songs:</p>
      <div id="url"></div>
      <!-- <img id="imageTest" src="" width="500" /> -->
    </div>
  </body>
</html>
